<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Virtual Tour ‚Äì Pamles Park</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
body{margin:0;font-family:'Inter',sans-serif}

/* PANEL UI */
.panel{
  position:fixed;
  background:rgba(15,23,42,.75);
  backdrop-filter:blur(12px);
  color:#fff;
  padding:14px 18px;
  border-radius:16px;
  z-index:20;
}
.top-left{top:20px;left:20px}
.top-right{top:20px;right:20px}
.bottom-left{bottom:20px;left:20px}

.panel button{
  width:100%;
  margin-top:10px;
  padding:10px 14px;
  border:none;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
}

/* WHATSAPP */
.wa{
  position:fixed;
  right:24px;
  bottom:24px;
  width:64px;
  height:64px;
  border-radius:50%;
  background:#25D366;
  color:#fff;
  font-size:30px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  z-index:20;
}

/* DENAH OVERLAY */
.denah-overlay{
  position:fixed;
  inset:0;
  background:rgba(2,6,23,.75);
  backdrop-filter:blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.denah-box{
  position:relative;
  max-width:90%;
  background:#fff;
  border-radius:20px;
  padding:20px;
}
.denah-box img{
  max-width:100%;
  display:block;
}
.denah-close{
  position:absolute;
  top:-14px;
  right:-14px;
  background:#0f172a;
  color:#fff;
  width:36px;
  height:36px;
  border-radius:50%;
  border:none;
  cursor:pointer;
}

/* AREA KLIK DENAH */
.area{
  position:absolute;
  border:2px dashed rgba(0,194,168,.7);
  cursor:pointer;
}
</style>

<script>
function track(e){
  console.log('TRACK:',e)
  if(window.gtag){gtag('event',e)}
  if(window.fbq){fbq('trackCustom',e)}
}
function setScene(img){
  document.querySelector('#scene')
    .setAttribute('src','assets/sample/'+img)
  track('scene_'+img)
}
function fullscreen(){
  if(!document.fullscreenElement){
    document.documentElement.requestFullscreen()
    track('fullscreen_on')
  } else {
    document.exitFullscreen()
    track('fullscreen_off')
  }
}
function openDenah(){
  document.getElementById('denah').style.display='flex'
  track('open_denah')
}
function closeDenah(){
  document.getElementById('denah').style.display='none'
}
</script>
</head>

<body>

<!-- PANEL -->
<div class="panel top-left">
  <strong>Pamles Park</strong><br>
  Cluster Modern<br>
  <a href="index.html" style="color:#5eead4;text-decoration:none">‚Üê Kembali</a>
</div>

<div class="panel top-right">
  <button onclick="setScene('living.jpg')">Lt 1</button>
  <button onclick="setScene('bedroom.jpg')">Lt 2</button>
  <button onclick="openDenah()">üó∫Ô∏è Denah Rumah</button>
</div>

<div class="panel bottom-left">
  <button onclick="fullscreen()">‚õ∂ Full Screen</button>
</div>

<!-- WHATSAPP -->
<a class="wa"
   href="https://wa.me/628xxxxxxxxxx"
   target="_blank"
   onclick="track('whatsapp_floating')">üí¨</a>

<!-- VIRTUAL TOUR -->
<a-scene>
  <a-sky id="scene" src="assets/sample/living.jpg"></a-sky>

  <a-circle position="2 1 -3" radius="0.35" color="#5eead4"
    onclick="setScene('kitchen.jpg')"></a-circle>

  <a-circle position="-2 1 -3" radius="0.35" color="#ffffff"
    onclick="setScene('bedroom.jpg')"></a-circle>

  <a-camera>
    <a-cursor></a-cursor>
  </a-camera>
</a-scene>

<!-- DENAH -->
<div class="denah-overlay" id="denah">
  <div class="denah-box">
    <button class="denah-close" onclick="closeDenah()">‚úï</button>

    <img src="assets/sample/denah.png">

    <!-- AREA KLIK (ATUR POSISI SESUAI DENAH) -->
    <div class="area"
      style="top:20%;left:15%;width:30%;height:25%"
      onclick="setScene('living.jpg');closeDenah()"></div>

    <div class="area"
      style="top:20%;right:15%;width:25%;height:25%"
      onclick="setScene('kitchen.jpg');closeDenah()"></div>

    <div class="area"
      style="bottom:15%;left:30%;width:30%;height:25%"
      onclick="setScene('bedroom.jpg');closeDenah()"></div>
  </div>
</div>

</body>
</html>
