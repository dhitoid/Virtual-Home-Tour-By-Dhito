<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Virtual Tour ‚Äì Pamles Park</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
body{margin:0;font-family:'Inter',sans-serif}

/* PANEL */
.panel{
  position:fixed;
  background:rgba(15,23,42,.78);
  backdrop-filter:blur(12px);
  color:#fff;
  padding:14px 18px;
  border-radius:16px;
  z-index:30;
}
.top-left{top:20px;left:20px}
.top-right{top:20px;right:20px}
.bottom-left{bottom:20px;left:20px}

.panel button, .panel select{
  width:100%;
  margin-top:10px;
  padding:10px;
  border:none;
  border-radius:10px;
  font-weight:600;
}

/* WHATSAPP */
.wa{
  position:fixed;
  right:24px;
  bottom:24px;
  width:64px;
  height:64px;
  border-radius:50%;
  background:#25D366;
  color:#fff;
  font-size:30px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  z-index:30;
}

/* DENAH */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(2,6,23,.75);
  backdrop-filter:blur(10px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.box{
  position:relative;
  background:#fff;
  padding:20px;
  border-radius:20px;
  max-width:90%;
}
.box img{max-width:100%}
.close{
  position:absolute;
  top:-14px;
  right:-14px;
  width:36px;
  height:36px;
  border-radius:50%;
  border:none;
  background:#0f172a;
  color:#fff;
}

/* LEAD FORM */
.form input{
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ccc;
}
.form button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#00c2a8;
  color:#fff;
  font-weight:700;
}

/* AREA DENAH */
.area{
  position:absolute;
  border:2px dashed rgba(0,194,168,.7);
}

/* ANIMASI PINTU */
@keyframes pulse {
  0%{transform:scale(1);opacity:.7}
  100%{transform:scale(1.3);opacity:0}
}
</style>

<script>
let unit = 'type45'

function track(e){
  console.log('TRACK:',e)
}

function setUnit(val){
  unit = val
  setScene('living.jpg')
  track('unit_'+val)
}

function setScene(img){
  document.querySelector('#scene')
    .setAttribute('src','assets/sample/'+img)
  track(unit+'_scene_'+img)
}

function fullscreen(){
  if(!document.fullscreenElement){
    document.documentElement.requestFullscreen()
  } else {
    document.exitFullscreen()
  }
}

function open(id){document.getElementById(id).style.display='flex'}
function close(id){document.getElementById(id).style.display='none'}

function submitLead(){
  let nama = document.getElementById('nama').value
  let wa = document.getElementById('wa').value
  if(!nama||!wa) return alert('Lengkapi data')
  window.open(
    `https://wa.me/6281802168184?text=Nama:%20${nama}%0AHP:%20${wa}%0AMinat:%20Pamles%20Park`,
    '_blank'
  )
  track('lead_submit')
}
</script>
</head>

<body>

<!-- PANEL -->
<div class="panel top-left">
  <strong>Pamles Park</strong><br>
  Cluster Modern
</div>

<div class="panel top-right">
  <select onchange="setUnit(this.value)">
    <option value="type45">Type 45</option>
    <option value="type60">Type 60</option>
  </select>

  <button onclick="setScene('living.jpg')">Ruang Tamu</button>
  <button onclick="setScene('bedroom.jpg')">Kamar</button>
  <button onclick="open('denah')">üó∫Ô∏è Denah</button>
  <button onclick="open('lead')">üì© Minat Unit</button>
</div>

<div class="panel bottom-left">
  <button onclick="fullscreen()">‚õ∂ Fullscreen</button>
</div>

<a class="wa"
   href="https://wa.me/6281802168184"
   target="_blank">üí¨</a>

<!-- SCENE -->
<a-scene>
  <a-sky id="scene" src="assets/sample/living.jpg"></a-sky>

  <!-- PINTU ANIMASI -->
  <a-circle position="1.5 1 -3" radius="0.35" color="#00ffd0"
    animation="property: scale; from:1 1 1; to:1.3 1.3 1.3; dur:1200; loop:true"
    onclick="setScene('kitchen.jpg')">
  </a-circle>

  <a-circle position="-2 1 -3" radius="0.35" color="#fff"
    animation="property: scale; from:1 1 1; to:1.3 1.3 1.3; dur:1200; loop:true"
    onclick="setScene('bedroom.jpg')">
  </a-circle>

  <a-camera>
    <a-cursor></a-cursor>
  </a-camera>
</a-scene>

<!-- DENAH -->
<div class="overlay" id="denah">
  <div class="box">
    <button class="close" onclick="close('denah')">‚úï</button>
    <img src="assets/sample/denah.png">
    <div class="area" style="top:20%;left:15%;width:30%;height:25%"
      onclick="setScene('living.jpg');close('denah')"></div>
  </div>
</div>

<!-- LEAD FORM -->
<div class="overlay" id="lead">
  <div class="box">
    <button class="close" onclick="close('lead')">‚úï</button>
    <h3>Minat Unit Pamles Park</h3>
    <div class="form">
      <input id="nama" placeholder="Dhito">
      <input id="wa" placeholder="081802168184">
      <button onclick="submitLead()">Kirim & Chat WhatsApp</button>
    </div>
  </div>
</div>

</body>
</html>
