<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Virtual Tour ‚Äì Pamles Park</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
html,body{
  margin:0;
  height:100%;
  font-family:'Inter',sans-serif;
  overflow:hidden;
  touch-action:none;
}

/* PANEL */
.panel{
  position:fixed;
  background:rgba(15,23,42,.82);
  backdrop-filter:blur(14px);
  color:#fff;
  padding:14px 16px;
  border-radius:16px;
  z-index:30;
  box-shadow:0 20px 40px rgba(0,0,0,.35);
}
.top-left{top:16px;left:16px}
.top-right{top:16px;right:16px}
.bottom-left{bottom:16px;left:16px}

.panel strong{font-size:16px}
.panel small{opacity:.7}

.panel button,
.panel select{
  width:100%;
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:12px;
  font-weight:600;
  background:#0f172a;
  color:#fff;
}

/* FLOATING WA */
.wa{
  position:fixed;
  right:22px;
  bottom:22px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:#25D366;
  color:#fff;
  font-size:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  z-index:40;
  box-shadow:0 18px 40px rgba(0,0,0,.4);
}

/* OVERLAY */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(2,6,23,.8);
  backdrop-filter:blur(10px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.box{
  position:relative;
  background:#fff;
  padding:20px;
  border-radius:20px;
  max-width:90%;
}
.box img{max-width:100%;border-radius:12px}
.close{
  position:absolute;
  top:-14px;
  right:-14px;
  width:36px;
  height:36px;
  border-radius:50%;
  border:none;
  background:#0f172a;
  color:#fff;
}

/* FORM */
.form input{
  width:100%;
  padding:14px;
  margin-bottom:12px;
  border-radius:12px;
  border:1px solid #ccc;
}
.form button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#00c2a8;
  color:#fff;
  font-weight:700;
}
</style>

<script>
const params = new URLSearchParams(window.location.search)
unit = params.get('unit') || 'type45'

let unit = 'type45'

function track(e){ console.log('TRACK:',e) }

function setUnit(val){
  unit = val
  setScene('living.jpg')
}

function setScene(img){
  document.querySelector('#scene')
    .setAttribute('src','assets/sample/'+img)
}

function fullscreen(){
  if(!document.fullscreenElement){
    document.documentElement.requestFullscreen()
  } else {
    document.exitFullscreen()
  }
}

function openBox(id){document.getElementById(id).style.display='flex'}
function closeBox(id){document.getElementById(id).style.display='none'}

function submitLead(){
  let nama = document.getElementById('nama').value
  let wa = document.getElementById('wa').value
  if(!nama||!wa) return alert('Lengkapi data')
  window.open(
    `https://wa.me/6281802168184?text=Nama:%20${nama}%0AHP:%20${wa}%0AMinat:%20Pamles%20Park`,
    '_blank'
  )
}
</script>
</head>

<body>

<!-- PANEL INFO -->
<div class="panel top-left">
  <strong>Pamles Park</strong><br>
  <small>Cluster Modern</small>
</div>

<!-- PANEL MENU -->
<div class="panel top-right">
  <select onchange="setUnit(this.value)">
    <option value="type45">Type 45</option>
    <option value="type60">Type 60</option>
  </select>

  <button onclick="setScene('living.jpg')">üè† Ruang Tamu</button>
  <button onclick="setScene('bedroom.jpg')">üõèÔ∏è Kamar</button>
  <button onclick="openBox('denah')">üó∫Ô∏è Denah</button>
  <button onclick="openBox('lead')">üì© Minat Unit</button>
</div>

<div class="panel bottom-left">
  <button onclick="fullscreen()">‚õ∂ Fullscreen</button>
</div>

<a class="wa" href="https://wa.me/6281802168184" target="_blank">üí¨</a>

<!-- SCENE -->
<a-scene embedded>
  <a-sky id="scene" src="assets/sample/living.jpg" rotation="0 -90 0"></a-sky>

  <!-- HOTSPOT -->
  <a-circle position="1.5 1.2 -3"
    radius="0.35"
    color="#00ffd0"
    animation="property: scale; from:1 1 1; to:1.3 1.3 1.3; dur:1200; loop:true"
    onclick="setScene('kitchen.jpg')">
  </a-circle>

  <a-circle position="-2 1.2 -3"
    radius="0.35"
    color="#ffffff"
    animation="property: scale; from:1 1 1; to:1.3 1.3 1.3; dur:1200; loop:true"
    onclick="setScene('bedroom.jpg')">
  </a-circle>

  <!-- CAMERA FIX -->
  <a-camera
    look-controls="touchEnabled: true; mouseEnabled: true"
    wasd-controls-enabled="false">
    <a-cursor></a-cursor>
  </a-camera>
</a-scene>

<!-- DENAH -->
<div class="overlay" id="denah">
  <div class="box">
    <button class="close" onclick="closeBox('denah')">‚úï</button>
    <img src="assets/sample/denah.png">
  </div>
</div>

<!-- LEAD -->
<div class="overlay" id="lead">
  <div class="box">
    <button class="close" onclick="closeBox('lead')">‚úï</button>
    <h3>Minat Unit Pamles Park</h3>
    <div class="form">
      <input id="nama" placeholder="Nama">
      <input id="wa" placeholder="WhatsApp">
      <button onclick="submitLead()">Kirim & Chat WhatsApp</button>
    </div>
  </div>
</div>

</body>
</html>
