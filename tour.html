<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Virtual Tour â€“ Pamles Park</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
html,body{
  margin:0;
  height:100%;
  font-family:'Inter',sans-serif;
  overflow:hidden;
  touch-action:none;
  background:#000;
}

/* TOP INFO */
.info{
  position:fixed;
  top:16px;
  left:16px;
  background:rgba(15,23,42,.82);
  backdrop-filter:blur(12px);
  color:#fff;
  padding:12px 16px;
  border-radius:14px;
  z-index:20;
  box-shadow:0 20px 40px rgba(0,0,0,.35);
}

/* BOTTOM BAR */
.nav{
  position:fixed;
  bottom:16px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  background:rgba(15,23,42,.85);
  backdrop-filter:blur(14px);
  padding:10px;
  border-radius:18px;
  z-index:20;
}
.nav button{
  border:none;
  padding:12px 16px;
  border-radius:14px;
  background:#0f172a;
  color:#fff;
  font-weight:600;
}
.nav button.active{
  background:#00c2a8;
}

/* FLOATING */
.wa{
  position:fixed;
  right:20px;
  bottom:90px;
  width:56px;
  height:56px;
  border-radius:50%;
  background:#25D366;
  color:#fff;
  font-size:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  z-index:30;
}

.full{
  position:fixed;
  right:20px;
  bottom:20px;
  width:56px;
  height:56px;
  border-radius:50%;
  background:#0f172a;
  color:#fff;
  font-size:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:30;
}
</style>

<script>
/* ===== UNIT FROM URL ===== */
const params = new URLSearchParams(window.location.search)
const unit = params.get('unit') || 'type45'

/* ===== SCENE MAP ===== */
const UNITS = {
  type45:{
    living:'type45/living.jpg',
    bedroom:'type45/bedroom.jpg',
    kitchen:'type45/kitchen.jpg'
  },
  type60:{
    living:'type60/living.jpg',
    bedroom:'type60/bedroom.jpg',
    kitchen:'type60/kitchen.jpg'
  }
}

let current = 'living'

function setScene(room){
  current = room
  document.getElementById('scene')
    .setAttribute('src','assets/sample/'+UNITS[unit][room])

  document.querySelectorAll('.nav button')
    .forEach(b=>b.classList.remove('active'))
  document.getElementById(room).classList.add('active')
}

function fullscreen(){
  const scene = document.querySelector('a-scene')
  if(!document.fullscreenElement){
    scene.requestFullscreen()
  }else{
    document.exitFullscreen()
  }
}
</script>
</head>

<body>

<div class="info">
  <strong>Pamles Park</strong><br>
  <small>Virtual Tour â€“ ${unit.toUpperCase()}</small>
</div>

<a class="wa" href="https://wa.me/6281802168184" target="_blank">ðŸ’¬</a>
<div class="full" onclick="fullscreen()">â›¶</div>

<!-- NAV -->
<div class="nav">
  <button id="living" class="active" onclick="setScene('living')">Living</button>
  <button id="bedroom" onclick="setScene('bedroom')">Kamar</button>
  <button id="kitchen" onclick="setScene('kitchen')">Dapur</button>
</div>

<!-- SCENE -->
<a-scene embedded>
  <a-sky id="scene"
    src="assets/sample/type45/living.jpg"
    rotation="0 -90 0"></a-sky>

  <a-camera
    look-controls="touchEnabled:true; mouseEnabled:true"
    wasd-controls-enabled="false">
    <a-cursor></a-cursor>
  </a-camera>
</a-scene>

<script>
setScene(current)
</script>

</body>
</html>
